<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>amCharts examples</title>
        <link rel="stylesheet" href="style.css" type="text/css">
        <link href='http://fonts.googleapis.com/css?family=Covered+By+Your+Grace' rel='stylesheet' type='text/css'>
    </head>

    <body style="font-size:15px;">年龄统计:
        <!--<a href="#" onclick="makeCharts('light', '#ffffff');">Light</a> |-->
        <div id="chartdiv2" align="center" style="width: 600px; height: 400px;"></div>
        <input type="hidden" class="input" name="{{inform1.gender}}" data-count1="{{inform1.count1}}" data-count2="{{inform1.count2}}" data-count3="{{inform1.count3}}" data-count4="{{inform1.count4}}" data-count5="{{inform1.count5}}" data-count6="{{inform1.count6}}" data-count7="{{inform1.count7}}" data-count8="{{inform1.count8}}"  />
         <script>
		var dataProvider1=new Array();
		var aa=document.querySelectorAll(".input")
//		alert(aa[0].dataset["count1"])
		for(var i=0;i<aa.length;i++)
		{
			aa[i].dataset["count1"]
			var dataProvider=new Object()
			dataProvider.floatoutname=aa[i].name
			dataProvider.count1=aa[i].dataset["count1"]
			dataProvider.count2=aa[i].dataset["count2"]
			dataProvider.count3=aa[i].dataset["count3"]
			dataProvider.count4=aa[i].dataset["count4"]
			dataProvider.count5=aa[i].dataset["count5"]
			dataProvider.count6=aa[i].dataset["count6"]
			dataProvider.count7=aa[i].dataset["count7"]
			dataProvider.count8=aa[i].dataset["count8"]
			dataProvider1[i]=dataProvider
		} 
//		alert(dataProvider1[0].count1)
	</script>
  <script src="../amcharts/amcharts.js" type="text/javascript"></script>
        <script src="../amcharts/serial.js" type="text/javascript"></script>
        <script src="../amcharts/pie.js" type="text/javascript"></script>
        <!-- theme files. you only need to include the theme you use.
             feel free to modify themes and create your own themes -->
        <script src="../amcharts/themes/light.js" type="text/javascript"></script>
        <!--<script src="../amcharts/themes/dark.js" type="text/javascript"></script>
        <script src="../amcharts/themes/black.js" type="text/javascript"></script>
        <script src="../amcharts/themes/chalk.js" type="text/javascript"></script>
        <script src="../amcharts/themes/patterns.js" type="text/javascript"></script>-->
       <script>
        // in order to set theme for a chart, all you need to include theme file
        // located in amcharts/themes folder and set theme property for the chart.

        var chart1;
        var chart2;
	 
        makeCharts("light", "#FFFFFF");

        // Theme can only be applied when creating chart instance - this means
        // that if you need to change theme at run time, youhave to create whole
        // chart object once again.

        function makeCharts(theme, bgColor, bgImage) {

            if (chart1) {
                chart1.clear();
            }
            if (chart2) {
                chart2.clear();
            }

            // background
            if (document.body) {
                document.body.style.backgroundColor = bgColor;
                document.body.style.backgroundImage = "url(" + bgImage + ")";
            }
             
            // pie chart
            chart2 = AmCharts.makeChart("chartdiv2", {
                type: "pie",
                theme: theme,
                 startDuration: 0,
                 dataProvider: [{
                    "gender": "男(35岁以下)",
                    "litres": dataProvider1[0].count1
                }, {
                    "gender": "女(35岁以下)",
                    "litres": dataProvider1[0].count2
                },
                {
                    "gender": "男(36~45)岁",
                    "litres": dataProvider1[0].count3
                },
                {
                    "gender": "女(36~45)岁",
                    "litres": dataProvider1[0].count4
                },
                {
                    "gender": "男(46~60)岁",
                    "litres": dataProvider1[0].count5
                },
                {
                    "gender": "女(46~60)岁",
                    "litres":dataProvider1[0].count6
                },
                {
                    "gender": "男(60岁以上)",
                    "litres": dataProvider1[0].count7
                },{
                    "gender": "女(60岁以上)",
                    "litres": dataProvider1[0].count8
                }],
//				dataProvider: dataProvider1,
//				[ { floatoutname: '丹凤县', litres: 2 },
//				{ floatoutname: '梅县', litres: 2}],
                titleField: "gender",
                valueField: "litres",
                balloonText: "[[title]]<br><b>[[value]]</b> ([[percents]]%)",
                legend: {
                    align: "center",
                    markerType: "circle"
                }
            });

        }
//		alert(dataProvider1[0].litres)

        </script>
    </body>
</html>